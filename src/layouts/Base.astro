---
/* EDITAR AQU칈: Configuraci칩n SEO y metadatos */
export interface Props {
  title?: string;
  description?: string;
  image?: string;
  canonicalURL?: string;
}

const {
  title = "OCMIND - Consultor칤a en Inteligencia Artificial, Marketing Digital y Desarrollo Web",
  description = "游 Transformamos tu negocio con IA, Marketing Digital y Desarrollo Web. Consultor칤a estrat칠gica, bots de WhatsApp, sitios e-commerce y an치lisis de datos. +5 a침os impulsando empresas en LatAm & USA.",
  image = "/og-image.jpg",
  canonicalURL = Astro.url
} = Astro.props;

const siteTitle = title === "OCMIND - Consultor칤a en IA, Marketing y Desarrollo Web" ? title : `${title} | OCMIND`;
---

<!doctype html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="description" content={description} />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="generator" content={Astro.generator} />
    
    <!-- SEO Meta Tags -->
    <title>{siteTitle}</title>
    <meta name="description" content={description} />
    <meta name="keywords" content="consultor칤a inteligencia artificial, marketing digital, bots WhatsApp, desarrollo web, e-commerce, IA empresarial, big data, dashboards, an치lisis predictivos, automatizaci칩n, transformaci칩n digital, estrategia comercial, an치lisis de datos, business intelligence, desarrollo sitios web, tiendas online, consultor IA Chile, marketing digital Santiago" />
    <meta name="author" content="OCMIND Consulting" />
    <meta name="robots" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1" />
    <meta name="language" content="es-ES" />
    <meta name="geo.region" content="CL" />
    <meta name="geo.placename" content="Santiago, Chile" />
    <link rel="canonical" href={canonicalURL} />
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content={canonicalURL} />
    <meta property="og:title" content={siteTitle} />
    <meta property="og:description" content={description} />
    <meta property="og:image" content={new URL(image, Astro.url)} />
    <meta property="og:image:alt" content="OCMIND - Consultor칤a en Inteligencia Artificial, Marketing Digital y Desarrollo Web" />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />
    <meta property="og:locale" content="es_ES" />
    <meta property="og:site_name" content="OCMIND" />
    <meta property="article:author" content="OCMIND Consulting" />
    
    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:site" content="@ocmind" />
    <meta name="twitter:creator" content="@ocmind" />
    <meta name="twitter:url" content={canonicalURL} />
    <meta name="twitter:title" content={siteTitle} />
    <meta name="twitter:description" content={description} />
    <meta name="twitter:image" content={new URL(image, Astro.url)} />
    <meta name="twitter:image:alt" content="OCMIND - Transformamos tu negocio con IA y Marketing Digital" />
    
    <!-- WhatsApp Business -->
    <meta property="business:contact_data:street_address" content="Chile" />
    <meta property="business:contact_data:locality" content="Santiago" />
    <meta property="business:contact_data:region" content="RM" />
    <meta property="business:contact_data:country_name" content="Chile" />
    <meta property="business:contact_data:phone_number" content="+56964567998" />
    <meta property="business:contact_data:email" content="ocmindconsulting@gmail.com" />
    
    <!-- Performance optimizations: Preconnect, preload and font optimization -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link rel="dns-prefetch" href="https://wa.me" />
    <link rel="dns-prefetch" href="https://www.google-analytics.com" />
    <link rel="dns-prefetch" href="https://cdnjs.cloudflare.com" />
    
    <!-- Critical resource preloads -->
    <link rel="preload" href="/favicon.svg" as="image" type="image/svg+xml" />
    
    <!-- Optimized font loading with variable font and subset -->
    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Inter:wght@400..600&display=swap&subset=latin" as="style" onload="this.onload=null;this.rel='stylesheet'" />
    <noscript><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400..600&display=swap&subset=latin" /></noscript>
    
    <!-- Preload critical font file with latin subset (smaller size) -->
    <link rel="preload" href="https://fonts.gstatic.com/s/inter/v13/UcCO3FwrK3iLTeHuS_fvQtMwCp50KnMw2boKoduKmMEVuLyfAZ9hiA.woff2" as="font" type="font/woff2" crossorigin />
    
    <!-- Module preload for critical CSS -->
    <link rel="modulepreload" href="/src/styles/vars.css" />
    
    <!-- Schema.org JSON-LD -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": ["Organization", "ProfessionalService", "WebSite"],
        "name": "OCMIND",
        "alternateName": ["OCMIND Consulting", "OCMIND AI"],
        "url": "https://ocmind.com",
        "logo": {
          "@type": "ImageObject",
          "url": "https://ocmind.com/logo.png",
          "width": 200,
          "height": 200
        },
        "image": "https://ocmind.com/og-image.jpg",
        "description": "Consultor칤a estrat칠gica en Inteligencia Artificial, Marketing Digital y Desarrollo Web. Transformamos empresas con tecnolog칤a avanzada, bots de WhatsApp y soluciones e-commerce.",
        "foundingDate": "2019",
        "slogan": "Impulsamos tu negocio con IA, Marketing y Web",
        "knowsAbout": [
          "Inteligencia Artificial",
          "Machine Learning",
          "Marketing Digital",
          "Desarrollo Web",
          "E-commerce",
          "Business Intelligence",
          "An치lisis de Datos",
          "Automatizaci칩n",
          "Bots de WhatsApp",
          "Transformaci칩n Digital"
        ],
        "address": {
          "@type": "PostalAddress",
          "addressCountry": "CL",
          "addressRegion": "RM",
          "addressLocality": "Santiago"
        },
        "contactPoint": [
          {
            "@type": "ContactPoint",
            "telephone": "+56-9-6456-7998",
            "contactType": "customer service",
            "availableLanguage": ["Spanish", "English"],
            "areaServed": ["CL", "AR", "CO", "VE", "PE", "US"],
            "contactOption": "TollFree"
          },
          {
            "@type": "ContactPoint",
            "email": "ocmindconsulting@gmail.com",
            "contactType": "customer service"
          }
        ],
        "sameAs": [
          "https://instagram.com/ocmind.ai",
          "https://wa.me/56964567998"
        ],
        "areaServed": [
          {
            "@type": "Country",
            "name": "Chile"
          },
          {
            "@type": "Country", 
            "name": "Argentina"
          },
          {
            "@type": "Country",
            "name": "Colombia"
          },
          {
            "@type": "Country",
            "name": "Venezuela"
          },
          {
            "@type": "Country",
            "name": "Peru"
          },
          {
            "@type": "Country",
            "name": "United States"
          }
        ],
        "hasOfferCatalog": {
          "@type": "OfferCatalog",
          "name": "Servicios OCMIND",
          "itemListElement": [
            {
              "@type": "Offer",
              "itemOffered": {
                "@type": "Service",
                "name": "Consultor칤a en Inteligencia Artificial",
                "description": "Estrategias de IA para optimizaci칩n de procesos empresariales"
              }
            },
            {
              "@type": "Offer", 
              "itemOffered": {
                "@type": "Service",
                "name": "Marketing Digital",
                "description": "Campa침as digitales y estrategias de crecimiento online"
              }
            },
            {
              "@type": "Offer",
              "itemOffered": {
                "@type": "Service", 
                "name": "Desarrollo Web y E-commerce",
                "description": "Sitios web personalizados y tiendas online completas"
              }
            },
            {
              "@type": "Offer",
              "itemOffered": {
                "@type": "Service",
                "name": "Bots de WhatsApp",
                "description": "Automatizaci칩n de atenci칩n al cliente via WhatsApp Business"
              }
            },
            {
              "@type": "Offer",
              "itemOffered": {
                "@type": "Service",
                "name": "An치lisis de Datos y BI",
                "description": "Dashboards, reportes y an치lisis predictivos para toma de decisiones"
              }
            }
          ]
        },
        "aggregateRating": {
          "@type": "AggregateRating",
          "ratingValue": "4.9",
          "reviewCount": "87",
          "bestRating": "5"
        }
      }
    </script>
    
    <!-- Critical CSS inlined for faster rendering -->
    <style>
      /* Critical styles - font family fallback and basic layout */
      :root {
        --bg: #0B0F1A;
        --text: #F5F7FA;
        --muted: #94A3B8;
        --accent: #F59E0B;
        --accent2: #2563EB;
        --radius: 16px;
        --maxw: 1200px;
        --gap: 24px;
        --font-family: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
        --transition: 200ms ease;
      }
      
      *, *::before, *::after {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
      }
      
      html {
        scroll-behavior: smooth;
      }
      
      body {
        font-family: var(--font-family);
        background-color: var(--bg);
        color: var(--text);
        line-height: 1.6;
        font-size: 1rem;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
      }
      
      .container {
        max-width: var(--maxw);
        margin: 0 auto;
        padding-inline: var(--gap);
      }
      
      /* Font loading optimization - prevent FOUT */
      body {
        font-display: swap;
      }
      
      /* Font loading optimization with fallback stack */
      html:not(.fonts-loaded) body {
        font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Helvetica Neue', sans-serif;
      }
      
      /* Optimize font rendering */
      body {
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
        text-rendering: optimizeLegibility;
      }
      
      /* Reduce CLS by setting font-size-adjust */
      .fonts-loaded body {
        font-size-adjust: 0.5;
      }
    </style>
  </head>
  <body>
    <slot />
    
    <!-- Performance optimization scripts -->
    <script>
      // Font loading strategy to prevent FOUT
      (function() {
        if (sessionStorage.fontsLoaded) {
          document.documentElement.classList.add('fonts-loaded');
          return;
        }
        
        if ('fonts' in document) {
          document.fonts.ready.then(function() {
            document.documentElement.classList.add('fonts-loaded');
            sessionStorage.fontsLoaded = true;
          });
        } else {
          // Fallback for older browsers
          setTimeout(function() {
            document.documentElement.classList.add('fonts-loaded');
            sessionStorage.fontsLoaded = true;
          }, 100);
        }
      })();
    </script>
    
    <!-- Scripts para islands -->
    <script>
      // Mejora la accesibilidad del foco del teclado
      document.addEventListener('keydown', (e) => {
        if (e.key === 'Tab') {
          document.body.classList.add('user-is-tabbing');
        }
      });
      
      document.addEventListener('mousedown', () => {
        document.body.classList.remove('user-is-tabbing');
      });
    </script>
  </body>
</html>

<style is:global>
  @import '../styles/vars.css';
  
  /* EDITAR AQU칈: Estilos adicionales globales */
  body.user-is-tabbing *:focus {
    outline: 2px solid var(--accent) !important;
    outline-offset: 2px !important;
  }
  
  /* Animaciones sutiles */
  @keyframes fadeInUp {
    from {
      opacity: 0;
      transform: translateY(30px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
  
  .animate-fade-in-up {
    animation: fadeInUp 0.6s ease-out;
  }
  
  /* Scroll suave para ancilas */
  html {
    scroll-behavior: smooth;
  }
  
  /* Optimizaci칩n de carga de im치genes */
  img {
    max-width: 100%;
    height: auto;
    loading: lazy;
    decoding: async;
  }
  
  /* Optimizaci칩n de performance */
  * {
    box-sizing: border-box;
  }
  
  /* Reduce el layout shift */
  [data-astro-cid-hash] {
    contain: layout style paint;
  }
  
  /* Mejora de legibilidad */
  ::selection {
    background-color: var(--accent);
    color: var(--bg);
  }
</style>